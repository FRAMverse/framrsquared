% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sensitivity.R
\name{sensitivity_exact}
\alias{sensitivity_exact}
\title{\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#experimental}{\figure{lifecycle-experimental.svg}{options: alt='[Experimental]'}}}{\strong{[Experimental]}}
Generate sensitivity analyses runs based on exact values}
\usage{
sensitivity_exact(
  fram_db,
  template_run,
  table_name,
  match_df,
  exact_values,
  cols_to_vary,
  tamm_template = NULL,
  tamm_target_folder = NULL,
  label = "sensitivity",
  save_log = TRUE
)
}
\arguments{
\item{fram_db}{Fram database}

\item{template_run}{Run ID of the run that should be used as a template for the sensitivity analyses.}

\item{table_name}{Name of FRAM table that will be modified for the sensitivity analyses}

\item{match_df}{dataframe that defines which rows should be modified during sensitivity analyses. To modify some values for marked and unmarked Stillaguamish stocks, we would use data.frame(StockID = c(17, 18)). To modify values only for Stillaguamish age 2s, we would use expand_grid(StockID = c(17, 19), Age = 2). Unlike match/replace dataframes for \code{modify_table()}, column names do not need to start with "match_" (but this function will still work if they do).}

\item{exact_values}{numeric vector of values to exact values to use for sensitivity analyses.}

\item{cols_to_vary}{Character or character vector of column names of FRAM table \code{table_name} that should be rescaled.}

\item{tamm_template}{Optional; character string of filepath of a TAMM to be used as a template. If provided (and tamm_target_folder provided), \code{sensitivity_scaled} will make a tamm for each sensitivity analysis run, using names that work with the FRAM multirun fork "Use folder" option.}

\item{tamm_target_folder}{Folder to copy TAMMs into. Will create if it does not exist.}

\item{label}{Label added to each of the generated run names to identify this sequence of sensitivity analyses. String, defaults to "sensitivity"}

\item{save_log}{Should a log .csv of the specifics used (row ids, match criterion, scaling or replacement values) be saved in the same folder as the FRAM database? Logical, defaults to TRUE.}
}
\value{
Invisibly returns a list of dataframes.
$values_by_run contains a row for each sensitivity run and maps the values used to run ids.
$full_df is the full match/scale factor used by calc_fram_scaling, and shows the match conditions and scaling used for each run.
If \code{cols_to_vary} has length 1, the two dataframes will contain the same information.
}
\description{
As \code{sensitivity_scaled}, but provide exact values for the sensitivity analyses (in argument \code{exact_values}) instead of
scaling factors.
}
\examples{
\dontrun{
fram_db <- connect_fram_db(here("Valid2024_sens_test.mdb"))

tamm_template <- here("Coho2513NOF-165.xlsx")
tamm_target_folder <- here("sens_test_exact/")
fram_db |>
  sensitivity_exact(
    template_run = 28,
    table_name = "StockRecruit",
    match_df = data.frame(match_StockID = 1:2),
    exact_values = seq(0.5, 5, by = 0.5),
    cols_to_vary = c("RecruitScaleFactor"),
    tamm_template = tamm_template,
    tamm_target_folder = tamm_target_folder,
    label = "Stilly sensitivity exact"
  )
disconnect_fram_db(fram_db)
}
}
